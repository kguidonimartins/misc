---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# misc

<!-- badges: start -->
[![Build Status](https://travis-ci.com/kguidonimartins/misc.svg?branch=main)](https://travis-ci.com/kguidonimartins/misc)
<!-- badges: end -->

`{misc}` stands for *miscellaneous*. This is a personal package. Use it at your own risk.

## Installation

You can install the released version of misc from [github](https://github.com/kguidonimartins/misc) with:

```{r, message=FALSE}
if (!require("remotes")) install.packages("remotes")
if (!require("misc")) remotes::install_github("kguidonimartins/misc")
```


```{r, echo=FALSE, eval=TRUE, message=FALSE, results='hide', warning=FALSE}
remotes::install_github("kguidonimartins/misc", force = TRUE)
if (!require("git2r")) install.packages("git2r")
```

### Available functions

```{r, echo=FALSE, message=FALSE}

suppressPackageStartupMessages({
  library(tidyverse)
})

get_func <- function(func) {
  tools::parse_Rd(file = func) %>%
    .[5] %>%
    flatten() %>%
    .[[1]]
}

get_title <- function(title) {
  tools::parse_Rd(file = title) %>%
    .[9] %>%
    flatten() %>%
    .[[1]]
}

mans <- fs::dir_ls(path = "man", regexp = "\\.Rd")

list_func <- list()
list_title <- list()
for (i in seq_along(mans)) {
  list_func[i] <- get_func(mans[i])[1]
  list_title[i] <- get_title(mans[i])[1]
}

full_join(
  list_func %>% enframe() %>%
    unnest(cols = c(value)) %>%
    transmute(ID = name, Function = value),
  list_title %>% enframe() %>%
    unnest(cols = c(value)) %>%
    transmute(ID = name, Description = value),
  by = "ID"
) %>%
  filter(Description != "Pipe operator") %>%
  mutate(Function = paste0("`", Function, "()`")) %>%
  as.data.frame() %>%
  knitr::kable(.)
```

### Usage

```{r, message=FALSE, results='hide', warning=FALSE}
library(misc)

# install and load multiple packages
ipak(c("vegan", "dplyr"))

# create world map quickly
quick_map()

# create other maps quickly
quick_map(region = "South America", type = "sf")
quick_map(region = "Caribbean", type = "sf")

# edit maps
if (!require("ggplot2")) install.packages("ggplot2")
quick_map(region = "Africa", type = "sf") +
  theme_void()
```

### What commit is this file at?

```{r}
if ("git2r" %in% installed.packages() & git2r::in_repository(path = ".")) git2r::repository(here::here())
```
